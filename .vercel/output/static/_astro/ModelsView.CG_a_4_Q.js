import{c as D,j as e,D as M,S as H,B as P}from"./DashboardLayout.CLukeCOu.js";import{r}from"./index.DiEladB3.js";import{L as _}from"./loader-circle.B1RbsS0f.js";import{H as $,D as A}from"./heart.DuyTi_sJ.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],F=D("circle-alert",B);function q(){const[s,v]=r.useState(""),[f,h]=r.useState([]),[n,g]=r.useState(!0),[j,w]=r.useState(null),[a,C]=r.useState("all"),[d,u]=r.useState(null),[c,x]=r.useState([]),[S,m]=r.useState(null);r.useEffect(()=>{h([]),u(null),x([]),m(null),o(s,a,null)},[a]),r.useEffect(()=>{const t=setTimeout(()=>{h([]),u(null),x([]),m(null),o(s,a,null)},500);return()=>clearTimeout(t)},[s]);const o=async(t="",i=a,k=null)=>{g(!0),w(null);try{let l="https://huggingface.co/api/models?limit=30&full=true";i==="trending"?l+="&sort=likes&direction=-1":i==="all"?l+="&sort=downloads&direction=-1":i&&(l+=`&pipeline_tag=${i}&sort=downloads&direction=-1`),t&&(l+=`&search=${encodeURIComponent(t)}`),k&&(l+=`&cursor=${k}`);const p=await fetch(l);if(!p.ok)throw new Error("Error conectando a Hugging Face");const N=p.headers.get("link");let z=null;if(N){const b=N.match(/cursor=([^>&]+)/);b&&b[1]&&(z=b[1])}u(z);const L=await p.json();h(L)}catch(l){console.error(l),w("No pudimos cargar los modelos. Intenta de nuevo.")}finally{g(!1)}},I=()=>{d&&(x(t=>[...t,S]),m(d),o(s,a,d),window.scrollTo({top:0,behavior:"smooth"}))},E=()=>{if(c.length>0){const t=c[c.length-1];x(i=>i.slice(0,-1)),m(t),o(s,a,t),window.scrollTo({top:0,behavior:"smooth"})}},T=[{id:"all",label:"Todos"},{id:"trending",label:"Tendencias"},{id:"text-generation",label:"Texto (LLMs)"},{id:"image-classification",label:"Visión"},{id:"text-to-image",label:"Imagen"},{id:"translation",label:"Traducción"},{id:"automatic-speech-recognition",label:"Audio"}];return e.jsx(M,{activePage:"models",children:e.jsxs("div",{className:"p-6 md:p-8 space-y-8 max-w-7xl mx-auto",children:[e.jsx("div",{className:"flex flex-col md:flex-row gap-6 items-center justify-between",children:e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-2 mb-1",children:e.jsx("span",{className:"bg-yellow-100 dark:bg-yellow-900/30 text-yellow-700 dark:text-yellow-500 text-xs px-2 py-0.5 rounded-full font-bold uppercase tracking-wider",children:"Beta"})}),e.jsx("h1",{className:"text-3xl font-bold text-zinc-900 dark:text-white mb-2 tracking-tight",children:"Modelos Open Source"}),e.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 max-w-lg text-lg leading-relaxed",children:'Explora "cerebros" de IA crudos directamente desde Hugging Face.'})]})}),e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:e.jsxs("div",{className:"relative flex-1 max-w-xl",children:[e.jsx(H,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-400"}),e.jsx("input",{type:"text",placeholder:"Buscar modelo (ej. llama, mistral, bert)...",className:"w-full pl-10 pr-4 py-3 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-xl text-sm focus:ring-2 focus:ring-primary-500/20 focus:border-primary-500 outline-none shadow-sm transition-all",value:s,onChange:t=>v(t.target.value)})]})}),e.jsx("div",{className:"flex flex-wrap gap-2",children:T.map(t=>e.jsx("button",{onClick:()=>C(t.id),className:`px-4 py-2 rounded-full text-xs font-bold transition-all border ${a===t.id?"bg-zinc-900 text-white border-zinc-900 dark:bg-white dark:text-black":"bg-white dark:bg-zinc-900 text-zinc-600 dark:text-zinc-400 border-zinc-200 dark:border-zinc-800 hover:border-zinc-300"}`,children:t.label},t.id))})]}),n?e.jsxs("div",{className:"py-20 flex flex-col items-center justify-center text-zinc-400",children:[e.jsx(_,{className:"w-8 h-8 animate-spin mb-4 text-primary-500"}),e.jsx("p",{children:"Cargando modelos..."})]}):j?e.jsxs("div",{className:"py-20 flex flex-col items-center justify-center text-red-500 bg-red-50 dark:bg-red-900/10 rounded-3xl",children:[e.jsx(F,{className:"w-8 h-8 mb-4"}),e.jsx("p",{children:j}),e.jsx("button",{onClick:()=>o(s,a),className:"mt-4 text-sm font-bold underline",children:"Reintentar"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:f.map(t=>e.jsx("a",{href:`/models/${t.modelId}`,className:"group bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 rounded-2xl overflow-hidden hover:shadow-lg hover:border-primary-500/50 transition-all flex flex-col h-[200px]",children:e.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[e.jsx("div",{className:"flex items-start justify-between mb-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-zinc-100 dark:bg-zinc-800 flex items-center justify-center shrink-0 overflow-hidden text-zinc-400",children:t.cardData?.thumbnail?e.jsx("img",{src:t.cardData.thumbnail,alt:"",className:"w-full h-full object-cover"}):e.jsx(P,{className:"w-5 h-5"})}),e.jsxs("div",{className:"flex flex-col min-w-0",children:[e.jsx("h3",{className:"font-bold text-sm text-zinc-900 dark:text-white truncate pr-2 group-hover:text-primary-600 transition-colors",title:t.modelId,children:t.modelId.split("/")[1]||t.modelId}),e.jsx("span",{className:"text-xs text-zinc-500 truncate",children:t.modelId.split("/")[0]||"Unknown User"})]})]})}),e.jsxs("div",{className:"mt-auto pt-4 border-t border-zinc-100 dark:border-zinc-800/50 flex items-center justify-between text-xs text-zinc-500 dark:text-zinc-400",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx($,{className:"w-3.5 h-3.5"})," ",y(t.likes)]}),e.jsxs("span",{className:"flex items-center gap-1.5",children:[e.jsx(A,{className:"w-3.5 h-3.5"})," ",y(t.downloads)]})]}),t.pipeline_tag&&e.jsx("span",{className:"bg-zinc-100 dark:bg-zinc-800 px-2 py-0.5 rounded text-[10px] font-medium uppercase tracking-wide truncate max-w-[100px]",children:t.pipeline_tag})]})]})},t.id))}),e.jsxs("div",{className:"flex items-center justify-between pt-8 border-t border-zinc-100 dark:border-zinc-800/50",children:[e.jsx("button",{onClick:E,disabled:c.length===0||n,className:`px-5 py-2.5 rounded-xl font-medium text-sm transition-all disabled:opacity-30 disabled:cursor-not-allowed
                                           bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-800 text-zinc-600 dark:text-zinc-400 hover:border-zinc-300 dark:hover:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-800`,children:"← Anterior"}),e.jsxs("span",{className:"text-xs font-medium text-zinc-400",children:["Página ",c.length+1]}),e.jsx("button",{onClick:I,disabled:!d||n,className:`px-5 py-2.5 rounded-xl font-medium text-sm transition-all disabled:opacity-30 disabled:cursor-not-allowed
                                           bg-zinc-900 dark:bg-white text-white dark:text-black hover:opacity-90 shadow-sm`,children:n?"Cargando...":"Siguiente →"})]}),f.length===0&&!n&&e.jsx("div",{className:"py-20 text-center text-zinc-500",children:"No encontramos modelos con esos criterios."})]}),e.jsx("div",{className:"h-10"})]})})}function y(s){return s>=1e6?(s/1e6).toFixed(1)+"M":s>=1e3?(s/1e3).toFixed(1)+"k":s.toString()}export{q as default};
